/*
 Hype Data Parser 1.0.8
copyright (c) 2022 Max Ziebell, (https://maxziebell.de). MIT-license
Based on csvToArray from Daniel Tillin 2011-2013
http://code.google.com/p/csv-to-array/
*/
!1==="HypeDataParser"in window&&(window.HypeDataParser=function(){function r(d,a){for(var b=0,e=0;e<d.length;e++)d[e]==a&&b++;return b}function t(d){var a=d.indexOf("\n",1);return-1===a?-1!==d.indexOf("\r")?"\r":"\n":"\r"===d[a-1]?"\r\n":"\n"}function n(d,a){if(d){a=a||{};a.trim=a.trim||a.trimWhitespace||!1;a.head=a.head||a.removeHead||!1;a.quot=a.quot||a.quote||'"';a.fSep=a.fSep||a.fieldSeparator||(r(d,";")>r(d,",")?";":",");a.rSep=a.rSep||a.rowSeparator||t(d);d=d.replace(/^\s\s*/,"").replace(/\s\s*$/,
"");for(var b=[[""]],e=f=p=q=0;p<d.length;p++)switch(c=d.charAt(p)){case a.quot:q&&d.charAt(p+1)==a.quot?(b[e][f]+=a.quot,++p):q^=1;break;case a.fSep:q?b[e][f]+=c:(a.trim&&(b[e][f]=b[e][f].replace(/^\s\s*/,"").replace(/\s\s*$/,"")),b[e][++f]="");break;case a.rSep.charAt(0):q||a.rSep.charAt(1)&&(!a.rSep.charAt(1)||a.rSep.charAt(1)!=d.charAt(p+1))?b[e][f]+=c:(a.trim&&(b[e][f]=b[e][f].replace(/^\s\s*/,"").replace(/\s\s*$/,"")),b[++e]=[""],b[e][f=0]="",a.rSep.charAt(1)&&++p);break;default:b[e][f]+=c}a.head&&
b.shift();b[b.length-1].length<b[0].length&&b.pop();return b}}return{version:"1.0.8",csvToArray:n,csvToObject:function(d,a){if(d){a=a||{};var b=n(d,Object.assign(a,{head:!1})),e=b.shift(),k=[];b.forEach(function(m){var g={};m.forEach(function(h,l){g[e[l]]=h});"function"==typeof a.filter&&!1===a.filter(g,k,e)||k.push(g)});return k}},csvToObjectByKey:function(d,a,b){if(d&&a){b=b||{};Array.isArray(d)||(d=n(d,b));var e=d.slice(1),k=d.slice(0,1)[0],m="number"==typeof a?a:k.indexOf(a),g={};if(-1!=m)return e.forEach(function(h){var l=
{};h.forEach(function(u,v){l[k[v]]=u});h=l[k[m]];if("function"!=typeof b.filter||!1!==b.filter(l,g,k))switch(b.objectByKeyMode){case "reduce":g[h]=l;break;case "list":case "array":g[h]||(g[h]=[]);g[h].push(l);break;default:case "auto":g[h]?(Array.isArray(g[h])||(g[h]=[g[h]]),g[h].push(l)):g[h]=l}}),g}},csvToArrayByKey:function(d,a,b){if(d&&a){b=b||{};Array.isArray(d)||(d=n(d,b));b=d.slice(1);d=d.slice(0,1)[0];var e="number"==typeof a?a:d.indexOf(a),k=[];if(-1!=e)return b.forEach(function(m){k.push(m[e])}),
k}},getLineBreakChar:t,count:r}}());
